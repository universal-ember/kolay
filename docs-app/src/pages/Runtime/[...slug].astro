---
import MarkdownLayout from '../../layouts/MarkdownLayout.astro';
import { slugToTitle } from '../../utils/loadManifest';
import KolayPageWithSetup from '../../components/KolayPageWithSetup.gts';

// For SSG, define all Runtime documentation paths
// These correspond to the markdown files in the docs/ directory
export function getStaticPaths() {
  return [
    // docs/docs/*.md
    { params: { slug: 'docs/api-docs' } },
    { params: { slug: 'docs/comment-query' } },
    { params: { slug: 'docs/component-signature' } },
    { params: { slug: 'docs/helper-signature' } },
    { params: { slug: 'docs/modifier-signature' } },
    // docs/util/*.md
    { params: { slug: 'util/group-nav' } },
    { params: { slug: 'util/logs' } },
    { params: { slug: 'util/page-nav' } },
    { params: { slug: 'util/page' } },
  ];
}

const { slug } = Astro.params;
const title = slugToTitle(slug);
---

<MarkdownLayout title={title}>
  <!-- Use the component that properly initializes kolay -->
  <!-- This Ember component will handle fetching and rendering the documentation client-side -->
  <KolayPageWithSetup client:only="ember" />
</MarkdownLayout>
